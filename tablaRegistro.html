<!DOCTYPE html>
<html lang="es-MX">


<head>



<link href="https://cdn.jsdelivr.net/npm/vanilla-datatables@latest/dist/vanilla-dataTables.min.css" rel="stylesheet" type="text/css">
<script src="https://cdn.jsdelivr.net/npm/vanilla-datatables@latest/dist/vanilla-dataTables.min.js" type="text/javascript"></script>


 <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Trabajo8</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Bootstrap icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        
        <link href="css/styles.css" rel="stylesheet" />

</head>

<body>
  <header>



    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container px-4 px-lg-5">
          <img src="" alt="">
          <a class="navbar-brand" href="index.html">Telarañas Tejedoras</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav me-auto mb-2 mb-lg-0 ms-lg-4">
                  <li class="nav-item"><a class="nav-link active" aria-current="page" href="tablaRegistro.html">Tabla</a></li>


                  <!--<li class="nav-item"><a class="nav-link" href="#!">About</a></li>
                  <li class="nav-item dropdown">
                      <a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Shop</a>
                      <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                          <li><a class="dropdown-item" href="#!">All Products</a></li>
                          <li><hr class="dropdown-divider" /></li>
                          <li><a class="dropdown-item" href="#!">Popular Items</a></li>
                          <li><a class="dropdown-item" href="#!">New Arrivals</a></li>
                      </ul>
                  </li>-->
              </ul>
              <!--<form class="d-flex">
                  <button class="btn btn-outline-dark" type="submit">
                      <i class="bi-cart-fill me-1"></i>
                      Cart
                      <span class="badge bg-dark text-white ms-1 rounded-pill"></span>
                  </button>
              </form>-->
          </div>
      </div>
  </nav>





</header>





  <div class="container">
    <div class="row">
      <!--Aqui hare mi formulario-->




      
      <div class="col col-md-4">
        <br><br>
        <h1>
          <center>Nueva mercancia</center>
        </h1>
        <form action="#" method="get">
          <div class="mb-3">
            <label for="nombreMerca" class="form-label">Nombre</label>
            <input type="text" class="form-control" name="nombreMerca" id="nombreMerca" aria-describedby="ayudaMerca">
            <div id="ayudaMerca" class="form-text">Aqui va el nombre del producto nuevo.</div>
          </div>
          <div class="mb-3">
            <label for="numeroMerca" class="form-label">Cantidad</label>
            <input type="number" class="form-control" name="numeroMerca" id="numeroMerca"
              aria-describedby="ayudaNMerca">
            <div id="ayudaNMerca" class="form-text">Aqui va la cantidad del producto nuevo.</div>
          </div>

          <div class="mb-3 form-check">
            <input type="checkbox" class="form-check-input" name="importado" id="importado">
            <label class="form-check-label" for="importado">Disponibilidad</label>
          </div>

          <button id="registro" type="submit" class="btn btn-primary">Registrar</button>
        </form>
      </div>


      <!--Aqui hare mi tabla-->
      <div class="col col-md-8">
        <br><br>
        <h1>
          <center>Visualización de articulos</center>
        </h1>
        <table class="table table-bordered" id="tabla">

          

          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Nombre</th>
              <th scope="col">Número en Inv.</th>
              <th scope="col">Status</th>
              <th scope="col">Acción</th>
            </tr>
          </thead>
          <tbody id="cuerpoTabla">
            <tr>
              <th scope="row">1</th>
              <td>Bufanda</td>
              <td>10</td>
              <td>Disponible</td>
              <td><a onclick="eliminar(this);">Eliminar</a></td>
            </tr>
            <tr>
              <th scope="row">2</th>
              <td>Sueter Tejido</td>
              <td>8</td>
              <td>No disponible</td>
              <td><a onclick="eliminar(this);">Eliminar</a></td>
            </tr>
            <tr>
              <th scope="row">3</th>
              <td>Gorros</td>
              <td>4</td>
              <td>No</td>
              <td><a onclick="eliminar(this);">Eliminar</a></td>
            </tr>
          </tbody>
        </table>
      </div>


    </div>
  </div>









  <script>
    getParameter = (key) => {
      address = window.location.search; // url de la ventana actual
      // Objeto de tipo URLSearchParams
      parameterList = new URLSearchParams(address);
      // Regresa el valor del parámetro “key”
      return parameterList.get(key);
    }

    function registrarProducto() {

      /*Obtener los anteriores
      var datos = document.getElementsByTagName("table")[0].rows;
      var data = {}
      Array.from(datos).forEach(element => {
        console.log(element.innerHTML);
      });*/

      var nombreMerca = getParameter("nombreMerca");
      var numeroMerca = getParameter("numeroMerca");
      var importado = getParameter("importado") == "on";
      i = 4;

      if (nombreMerca != null && numeroMerca != null) {
        if (nombreMerca != "" && numeroMerca != "") {
          //alert("Se registro un numevo articulo");
          tabla = document.getElementById("cuerpoTabla");
          nuevoRegistro = document.createElement("tr");

          id = document.createElement("th");
          id.innerHTML = i;
          id.scope = "row";

          nombre = document.createElement("td");
          nombre.innerHTML = nombreMerca;

          numero = document.createElement("td");
          numero.innerHTML = numeroMerca;

          importa = document.createElement("td");
          if (importado) {
            importa.innerHTML = "Disponible";
          } else {
            importa.innerHTML = "No disponible";
          }

          elimina = document.createElement("td");
          accion = document.createElement("a");
          accion.innerHTML = "Eliminar";
          accion.addEventListener("click", () => { eliminar(accion); });
          elimina.appendChild(accion);

          nuevoRegistro.appendChild(id);
          nuevoRegistro.appendChild(nombre);
          nuevoRegistro.appendChild(numero);
          nuevoRegistro.appendChild(importa);
          nuevoRegistro.appendChild(elimina)
          tabla.appendChild(nuevoRegistro)
        }
      }

    }
 
    window.addEventListener("load", registrarProducto);

    function eliminar(element) {
      element.parentElement.parentElement.remove();
    }




    var myTable = document.querySelector("#tabla");
var dataTable = new DataTable(tabla);

  </script>



  <script src="js/bootstrap.js"></script>
</body>

</html>